!function(){"use strict";var t={91:function(t){t.exports=function(t,r){return r||(r={}),t?(t=String(t.__esModule?t.default:t),r.hash&&(t+=r.hash),r.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},588:function(t,r,n){t.exports=n.p+"assets/favicon.png"},213:function(t,r,n){t.exports=n.p+"assets/favicon.svg"}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,{a:r}),r},n.d=function(t,r){for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},function(){var t;n.g.importScripts&&(t=n.g.location+"");var r=n.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var e=r.getElementsByTagName("script");if(e.length)for(var o=e.length-1;o>-1&&!t;)t=e[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),n.b=document.baseURI||self.location.href,function(){var t=n(91),r=n.n(t),e=new URL(n(213),n.b),o=new URL(n(588),n.b);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,(void 0,o=function(t,r){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!==i(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e.key),"symbol"===i(o)?o:String(o)),e)}var o}r()(e),r()(o);var u=function(){function t(r,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=r,this.position=n,this.hits=[]}var r,n;return r=t,(n=[{key:"hit",value:function(t){this.hits.push(t)}},{key:"isSunk",value:function(){var t=this;return this.position.every((function(r){return t.hits.includes(r)}))}}])&&a(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,f(e.key),e)}}function f(t){var r=function(t,r){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!==c(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(r)?r:String(r)}var s=function(){function t(r){var n,e,o,i=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=function(){for(var t=0;t<100;t++)i.board.push({hasShip:!1,isShot:!1})},(e=f(e="init"))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,this.board=r||[],this.board.length||this.init()}var r,n;return r=t,n=[{key:"resetGameboard",value:function(){this.board=[],this.init()}},{key:"getShipsLocation",value:function(){var t=this,r=[];return this.board.forEach((function(n){0!=n.hasShip&&r.push(t.board.indexOf(n))})),r}},{key:"receiveShot",value:function(t){this.board[t].isShot=!0}},{key:"checkIfShotHit",value:function(t){return this.board[t].hasShip}},{key:"createLocationArray",value:function(t,r,n){for(var e=[],o=0;o<r.length;o++)"x"===n?e.push(t+o):e.push(t+10*o);return e}},{key:"checkCollisions",value:function(t){var r=this;return!t.some((function(t){return!r.board[t]}))&&!t.some((function(t){return r.board[t].hasShip}))&&![9,19,29,39,49,59,69,79,89].some((function(r){return[r,r+1].every((function(r){return t.includes(r)}))}))}},{key:"findRandomShipLocation",value:function(t){function r(r){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(t){var r=this,n=function(){return["x","y"][Math.floor(2*Math.random())]};return function(e){for(var o=[],i=0;i<100-t.length;i++){var a=[];if("x"===e)for(var u=0;u<t.length;u++)a.push(i+u);else for(var c=0;c<t.length;c++)a.push(i+10*c);r.checkCollisions(a)&&(a.some((function(t){return[-1,1,-10,10,-9,9,-11,11].some((function(n){var e;return null===(e=r.board[t+n])||void 0===e?void 0:e.hasShip}))}))||o.push(a))}return 0===o.length?findRandomShipLocation(n()):o[Math.floor(Math.random()*o.length)]}(n())}))},{key:"opponentBoard",value:function(){return this.board.map((function(t){return t.isShot&&t.hasShip?"hit":t.isShot?"miss":"empty"}))}}],n&&l(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}(),h=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"destroyer",length:3},{name:"submarine",length:3},{name:"boat",length:2}],p=function(t,r){var n=new s(t.board),e=[];h.forEach((function(t){var r=new u(t.name,n.findRandomShipLocation(t));r.position.forEach((function(t){return n.board[t].hasShip=r.name})),e.push(r)})),r.ships=e},y=function(t){for(var r=document.querySelector(".player-grid"),n=0;n<t.gameBoard.board.length;n++){var e=document.createElement("div");e.dataset.y=Math.floor(n/10),e.dataset.x=(n/10).toString().split(".")[1]||0,e.classList.add("grid-cell"),r.appendChild(e)}},d=n.p+"assets/shot-marker.svg",b=function(t){var r,n;return t<10?(r=0,n=t.toString().split("")[0]):(r=t.toString().split("")[0],n=t.toString().split("")[1]),[r,n]};function m(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function v(t,r){var n=document.createElement("img");return n.classList.add("shot-img"),n.classList.add("".concat(r)),n.src=t,n}function g(t,r){var n,e,o=(e=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(e=i.call(n)).done)&&(u.push(e.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(n,e)||function(t,r){if(t){if("string"==typeof t)return m(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,r):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return document.querySelector("div.".concat(r,"-grid [data-y='").concat(i,"'][data-x='").concat(a,"']"))}var S=function(t,r){var n=function(t){for(var r=[],n=0;n<t.board.length;n++)!0===t.board[n].isShot&&!1!==t.board[n].hasShip&&r.push(n);return r}(t),e=function(t){for(var r=[],n=0;n<t.board.length;n++)!0===t.board[n].isShot&&r.push(n);return r}(t);n.forEach((function(t){var n=g(b(t),r);n.firstChild||n.appendChild(v(d,"hit"))})),e.forEach((function(t){var n=g(b(t),r);n.firstChild||n.appendChild(v(d,"miss"))}))},w=function(t){document.querySelector(".game-text").textContent=t};function j(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}var O=function(t){var r,n,e=(n=2,function(t){if(Array.isArray(t))return t}(r=t)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(e=i.call(n)).done)&&(u.push(e.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(r,n)||function(t,r){if(t){if("string"==typeof t)return j(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,r):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=[e[0],e[1]].filter((function(t){return!t.ships.every((function(t){return t.isSunk()}))}));return 1===o.length&&o[0]},P=!0;function k(){true===P?P=!1:false===P&&(P=!0)}function E(){return P}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function A(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function C(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!==x(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===x(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var M=function(t,r){var n=E(),e=t.gameBoard;O([t,r])?w("".concat(t.name," win!")):n||setTimeout((function(){var n=function(t){var r=t.gameBoard,n=[],e=[];r.opponentBoard().forEach((function(t,r){"empty"===t?n.push(r):"hit"===t&&e.push(r)}));var o=(e=e.filter((function(r){return!t.ships.find((function(t){return t.position.includes(r)})).isSunk()}))).filter((function(t,r,n){return n.includes(t+1)&&(t-9)%10!=0||n.includes(t-1)&&t%10!=0||n.includes(t+10)||n.includes(t-10)}));if((o=o.filter((function(t,r,n){return n.lastIndexOf(t)===r}))).length){var i=[];if("x"==(o[1]-o[0]==1?"x":"y")){o[0]%10!=0&&i.push(o[0]-1);var a=o.find((function(t,r,n){return!n.includes(t+1)}));(a-9)%10!=0&&i.push(a+1)}else i.push(o[0]-10),i.push(o.find((function(t,r,n){return 0!==r&&!n.includes(t+10)}))+10);var u=i.filter((function(t){return n.includes(t)}));if(u.length)return u[Math.floor(Math.random()*u.length)]}if(e.length){var c=e[0],l=[c+1,c-1,c+10,c-10].filter((function(t){return c%10==0?(t-9)%10!=0&&n.includes(t):(c-9)%10==0?t%10!=0&&n.includes(t):n.includes(t)}));if(l.length)return l[Math.floor(Math.random()*l.length)]}return n[Math.floor(Math.random()*n.length)]}(t);if(e.checkIfShotHit(n)){var o=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?A(Object(n),!0).forEach((function(r){C(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}({},t).ships,i=o.find((function(t){return t.name===e.checkIfShotHit(n)}));i.hit(n),i.isSunk()?w("".concat(i.name," is sunk")):w("hit")}else w("miss");r.fireShot(n,e),S(e,"player"),k()}),1e3)};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function L(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function T(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!==I(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===I(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var B=function(t,r,n){var e,o=E(),i=n.gameBoard;if(t.target.matches(".grid-cell"))if(O([r,n]))w("".concat(n.name," win!"));else if(o){var a,u=t.target.dataset.x,c=t.target.dataset.y;if(+c<1?a=u:+c>0&&+c<10&&(a=c+u),e=a,!i.board[e].isShot){var l=+a;if(i.checkIfShotHit(l)){var f=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?L(Object(n),!0).forEach((function(r){T(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}({},n).ships,s=f.find((function(t){return t.name===i.checkIfShotHit(l)}));s.hit(l),s.isSunk()?w("".concat(s.name," is sunk")):w("hit")}else w("miss");r.fireShot(a,i),S(i,"rival"),k(),M(r,n)}}};function D(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}var q=function(t){var r,n;t.getShipsLocation().forEach((function(e){var o,i,a,u,c,l;n=t.board[e].hasShip,o=b(e),l=2,a=(i=function(t){if(Array.isArray(t))return t}(c=o)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(e=i.call(n)).done)&&(u.push(e.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(c,l)||function(t,r){if(t){if("string"==typeof t)return D(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,r):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],u=i[1],(r=document.querySelector("div.player-grid [data-y='".concat(a,"'][data-x='").concat(u,"']"))).classList.add("ship-tile"),r.classList.add("".concat(n))}))},R=document.querySelector(".random-button"),U=document.querySelector(".player-grid");function $(t){!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(U),t.gameBoard.resetGameboard(),y(t),p(t.gameBoard,t),q(t.gameBoard)}function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function _(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,(void 0,o=function(t,r){if("object"!==H(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!==H(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e.key),"symbol"===H(o)?o:String(o)),e)}var o}var G,N,F=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=r,this.ships=[],this.gameBoard=new s}var r,n;return r=t,(n=[{key:"fireShot",value:function(t,r){"empty"===r.opponentBoard()[t]&&r.receiveShot(t)}}])&&_(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();G=new F("Jojo"),N=new F("Robot"),R.addEventListener("click",(function(){return $(G)})),p(N.gameBoard,N),y(G),function(t,r){for(var n=document.querySelector(".rival-grid"),e=0;e<r.gameBoard.board.length;e++){var o=document.createElement("div");o.dataset.y=Math.floor(e/10),o.dataset.x=(e/10).toString().split(".")[1]||0,o.classList.add("grid-cell"),o.addEventListener("click",(function(n){return B(n,t,r)})),n.appendChild(o)}}(G,N),$(G)}()}();